include('Javascript/addresses.js');exports.validateAddress = function validateAddress (params) {	var access, f, result = null, token, v;		if (params.debug) {		debugger;	}		v = L3.addressesGetInfo(params);		if (v) {		if (currentSession().belongsTo('Staff')) {			access = true;		}		else {			token = currentSession().promoteWith('Staff');			f = ds.Family.find('mainUSPSDeliveryPoint === :1', v.delivery_point_barcode);			currentSession().unPromote(token);			if (f) {				access = (f.userID === currentUser().ID);			}			else {				access = true;			}		}				result = {			mainStreet1: 	L3.addressesStreet1String(v),			mainStreet2: 	L3.addressesStreet2String(v),			mainCity: 		v.components.city_name,			mainState: 		v.components.state_abbreviation,			mainZipCode:	v.components.zipcode + '-' + v.components.plus4_code,			mainUSPSLine1:	v.delivery_line_1,			mainUSPSLine2:	v.last_line		};	}	else {		access = false;	}		return ( { result: result, access: access } );};