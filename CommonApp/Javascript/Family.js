include('Javascript/addresses.js');L3.familyAddressLookup = function familyAddressLookup(param) {	var c, f, v;	if (param.debug) {		debugger;	}		if (!param.familyID) {		return null;	}		c = ds.Family.query('ID === :1', param.familyID);	f = c.first();		if (!f.uspsDeliveryPoint) {		v = L3.addressesGetInfo(param);					if (v) {			f.uspsDeliveryPoint = v.delivery_point_barcode;			f.mainStreet1 = param.street1;			f.mainStreet2 = param.street2;			f.mainCity = param.city;			f.mainState = v.components.state_abbreviation;			f.mainZipCode = v.components.zipcode + '-' + v.components.plus4_code;			f.uspsLine1 = v.delivery_line_1;			f.uspsLine2 = v.last_line;			f.mapCoords = v.metadata.latitude + ',' + v.metadata.longitude;			f.save();		}		else {			return null;		}	}		return c;}L3.familyGetNearbySchools = function familyGetNearbySchools(param) {	var a, f, h;	if (param.debug) {		debugger;	}			f = ds.Family(param.familyID);	h = f.mapCoords.split(',');	ds.School.all().forEach(		function (e, i) {			var c, d, v, s;			if (e.mapCoords) {				d = L3.getDistanceFromLatLonInMiles(h, e.mapCoords.split(','));				s = ds.SchoolOption.find('family.ID === :1 AND school.ID === :2', f.ID, e.ID);				if (!s) {					s = ds.SchoolOption.createEntity();					s.family = f;					s.school = e;				}				s.distance = d;				s.save();			}		}	);		if (param.selected) {		return ds.SchoolOption.query('family.ID == :1 AND distance <= :2 AND selected === true', f.ID, param.distance).orderBy('distance');	}	else {		return ds.SchoolOption.query('family.ID == :1 AND distance <= :2', f.ID, param.distance).orderBy('distance');	}}L3.familyNumberOfChildren = function familyNumberOfChildren() {	return this.children.length;}