var L3 = L3 || {};L3.localization = {	selectedLanguage: '',	//by default we define English as the default language	translations: {},	//stored in files until we need them, then we load them		loadTranslation: function loadTranslation(language) {		var t = loadText(language + '.js');		if (t) {			L3.translations[language] = JSON.parse(t);		}	},		doTranslation: function doTranslation(language) {		var i, k, t, v;				$('[data-label]').each(			function() {				var translatedValue = L3.localization.translations[language].label[$(this).attr('data-label')],					//translated value of the text					label = '';				if (translatedValue) {					label = $('[for=' + $(this).attr('id') + ']');					//get the ID of the widget that has this label widget attached to it					label.text(translatedValue);					//swap the text of the label with the translated text				}			}		);		t = L3.localization.translations[language].richText;		k = Object.keys(t);		for (i = 0; i < k.length; i += 1) {			v = t[k[i]]				//translated value of the text			if (v) {				$('#'+k[i]).html(v);				//swap the text of the label with the translated text			}		}		t = L3.localization.translations[language].button;		k = Object.keys(t);		for (i = 0; i < k.length; i += 1) {			var v = t[k[i]]				//translated value of the text			if (v) {				$('#'+k[i]).text(v);				//swap the text of the label with the translated text			}		}		L3.localization.selectedLanguage = language;	},	//widgets have not yet been created by WAF	//use jQuery to modify the HTML	changeLanguage: function changeLanguage(language) {		var i, k, t, v;				if (language !== L3.localization.selectedLanguage) {			if (this.translations[language] === undefined) {				this.loadTranslation(language, this.doTranslation);			}		}	}}